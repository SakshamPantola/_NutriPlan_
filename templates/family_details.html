{% extends "base.html" %}
{% block title %}Family Details - NutriPlan{% endblock %}

{% block content %}

<div class="steps">
    <span class="step-number active">1</span>
    <span style="font-weight: 500;">Family Details</span>
    <span style="color: #e0e0e0; margin: 0 8px;">â†’</span>
    <span class="step-number inactive">2</span>
    <span style="color: #666;">Select Dishes</span>
</div>

<div class="center-card-layout">
    <div style="width: 100%; max-width: 500px;">
        <div style="text-align: center; margin-bottom: 32px;">
            <h1 style="font-size: 24px; font-weight: 700; margin-bottom: 8px;">Tell us about your family</h1>
            <p style="color: #666; font-size: 14px;">We'll personalize your meal plans</p>
        </div>

        <form method="POST" action="{{ url_for('family_details') }}">
          
            <div class="card" style="margin-bottom: 20px;">
                <div style="display: flex; align-items: center; gap: 10px; margin-bottom: 20px;">
                    <span style="font-size: 20px;">ğŸ‘¨â€ğŸ‘©â€ğŸ‘§</span>
                    <span style="font-weight: 600;">Family Members</span>
                </div>

                <div class="counter">
                    <button type="button" class="counter-btn" onclick="updateMembers(-1)">âˆ’</button>
                    <div style="text-align: center;">
                        <input type="hidden" name="members" id="members" value="2">
                        <span class="counter-value" id="members-display">2</span>
                        <p class="counter-label" id="members-label">people</p>
                    </div>
                    <button type="button" class="counter-btn plus" onclick="updateMembers(1)">+</button>
                </div>
            </div>

            <div class="card" style="margin-bottom: 24px;">
                <p style="font-weight: 600; margin-bottom: 16px;">Diet Preferences</p>

                <div class="diet-options">
                    <label class="diet-option" onclick="toggleDiet(this)">
                        <input type="checkbox" name="diet" value="vegetarian">
                        <span>ğŸ¥¬</span> Vegetarian
                    </label>
                    <label class="diet-option" onclick="toggleDiet(this)">
                        <input type="checkbox" name="diet" value="vegan">
                        <span>ğŸ’š</span> Vegan
                    </label>
                    <label class="diet-option" onclick="toggleDiet(this)">
                        <input type="checkbox" name="diet" value="dairy-free">
                        <span>ğŸ¥›</span> Dairy Free
                    </label>
                    <label class="diet-option" onclick="toggleDiet(this)">
                        <input type="checkbox" name="diet" value="gluten-free">
                        <span>ğŸŒ¾</span> Gluten Free
                    </label>
                </div>
            </div>

            <button type="submit" class="btn btn-primary btn-full">Continue â†’</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
let members = 2;

function updateMembers(change) {
    members = Math.max(1, Math.min(12, members + change));
    document.getElementById('members').value = members;
    document.getElementById('members-display').textContent = members;
    document.getElementById('members-label').textContent = members === 1 ? 'person' : 'people';
}

function toggleDiet(element) {
    element.classList.toggle('selected');
}
</script>
{% endblock %}
